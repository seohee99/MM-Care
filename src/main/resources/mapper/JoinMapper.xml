<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sql.join.mapper">

    <!-- 그룹원 추가(그룹장 초대) -->
    <insert id="insertGroupUser" parameterType="Join">
        insert into GROUP_JOIN(user_seq, group_seq, join_nickname, join_activate) values (#{userSeq},#{groupSeq},#{joinNickname}, #{joinActivate})
    </insert>

    <!--  사용자 초대 수락하면 activate 활성화  -->
    <update id="updateGroupUser" parameterType="Join">
        update GROUP_JOIN
        set join_activate = 1
        where user_seq = #{userSeq} and group_seq = #{groupSeq}
    </update>

    <!--  그룹원 탈퇴  -->
    <update id="deleteGroupUser" parameterType="Join">
        update GROUP_JOIN
        set join_activate = 0
        where user_seq = #{userSeq} and group_seq = #{groupSeq}
    </update>


</mapper>